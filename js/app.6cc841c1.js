(function(t){function e(e){for(var n,i,s=e[0],l=e[1],c=e[2],f=0,d=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={app:0},o=[];function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],i={name:"App",components:{},data:function(){return{}}},s=i,l=r("2877"),c=Object(l["a"])(s,a,o,!1,null,null,null),u=c.exports,f=r("5c96"),d=r.n(f),h=(r("0fae"),r("bc3a")),p=r.n(h),m=r("8c4f"),g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("p",[t._v("page not found")])},y=[],b={name:"404"},v=b,w=Object(l["a"])(v,g,y,!1,null,"ac4adc8c",null),x=w.exports,_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-container",[r("el-container",[r("el-aside",{attrs:{width:"auto"}}),r("el-container",[r("el-main",{staticStyle:{"border-radius":"0","background-color":"#d4deef"}},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:20}},[r("el-tag",{attrs:{type:"success"}},[t._v("请输入序列，数值之间以英文逗号或空格分隔")])],1)],1),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{span:15}},[r("el-input",{attrs:{type:"textarea",autosize:"",placeholder:"请输入内容"},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}})],1),r("el-col",{attrs:{span:1}}),r("el-col",{attrs:{span:4}},[r("el-button",{attrs:{type:"primary"},on:{click:t.doo}},[t._v("主要按钮")])],1)],1),r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{staticClass:"box_charts_out",attrs:{span:24}},[r("div",{staticClass:"box_charts_in"},[r("relation-graph",{ref:"child",attrs:{id:"rela_chart1",nodes:t.nodes,links:t.links,table_name:"图序列生成图"}})],1)])],1)],1),r("el-footer",{staticStyle:{"background-color":"#d4deef","text-align":"center"}},[r("hr"),r("div",[t._v("Built by 孙相鹏")])])],1)],1)],1)],1)},k=[],S=(r("c975"),r("ac1f"),r("1276"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main",attrs:{id:t.id}})}),j=[],O=(r("4160"),r("b0c0"),r("159b"),{name:"RelationGraph",props:{id:String,nodes:Array,links:Array,table_name:String},data:function(){return{myChart:0}},watch:{nodes:function(){this.myChart.clear(),this.drawChart()},links:function(){this.myChart.clear(),this.drawChart()}},methods:{clearChart:function(){this.myChart.clear()},drawChart:function(){this.myChart=this.$echarts.init(document.getElementById(this.id));var t={nodes:this.nodes,links:this.links};t.nodes.forEach((function(t){t.symbolSize=10,t.x=t.y=null,t.draggable=!0}));var e={title:{text:this.table_name,subtext:"Default layout",top:"bottom",left:"right"},tooltip:{trigger:"item",formatter:function(t){return t.data.name}},toolbox:{show:!0,feature:{mark:{show:!0},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"Les Miserables",type:"graph",layout:"force",data:t.nodes,links:t.links,categories:t.categories,roam:!0,draggable:!0,focusNodeAdjacency:!0,label:{normal:{show:!0,position:"right",formatter:function(t){return t.data.name}}},lineStyle:{color:"source",curveness:.2},emphasis:{lineStyle:{width:5}},force:{repulsion:1e3,edgeLength:100,layoutAnimation:!0,gravity:.3}}]};this.myChart.setOption(e)}},mounted:function(){this.drawChart()}}),C=O,E=(r("f61b"),Object(l["a"])(C,S,j,!1,null,"7489364c",null)),$=E.exports;r("a9e3");function P(t,e,r){console.log(t);var n,a=[];for(e.length=0,r.length=0,n=0;n<t.length;n++)e[n]={name:String(n+1)};try{for(var o=0;o<t.length;o++){if(""==t[o]||"number"!==typeof Number(t[o])||Number(t[o])%1!==0)throw new Error("invalid data");a[o]={name:String(o+1),data:Number(t[o])}}}catch(i){throw new Error("invalid data")}return A(a,0,r)}function A(t,e,r){var n;console.log(t),t.sort((function(t,e){return e.data-t.data}));var a=t[0].data+1;if(t.length-e<a)throw new Error("not GS");for(n=0;n<t.length;n++)if(t[n].data<0)throw new Error("not GS");if(0===t[0].data)return!0;for(t[0].data=0,n=1;n<a;n++)t[n].data--,r[r.length]={source:String(t[0].name),target:String(t[n].name)};console.log(t),A(t,e+1,r)}var q=P,G={components:{RelationGraph:$},name:"layout",props:{},data:function(){return{page_name:"index",nodes:[],links:[],sequence:[5,5,3,3,2,2,2],textarea:"",is_gs:!1}},watch:{},methods:{test:function(){try{var t=q(this.sequence,this.nodes,this.links);return 0===this.links.length&&alert("是空图"),this.is_gs=!0,t}catch(e){this.is_gs=!1,"not GS"==e.message?alert("不是图序列"):"invalid data"==e.message?alert("无效数据"):alert("出bug了")}},text2seq:function(t){return t.indexOf(",")>=0?t.split(","):t.split(" ")},doo:function(){this.sequence=this.text2seq(this.textarea),console.log(this.test()),this.is_gs?this.$refs.child.drawChart():this.$refs.child.clearChart()}},mounted:function(){}},M=G,N=(r("7192"),Object(l["a"])(M,_,k,!1,null,"66a3471b",null)),T=N.exports,z={routes:[{path:"/404",name:"404",component:x},{path:"/",component:T,name:"检验图序列"}]},B=r("313e");n["default"].config.productionTip=!1,n["default"].prototype.$echarts=B,n["default"].use(d.a),n["default"].use(p.a),n["default"].use(m["a"]);var I=new m["a"](z);new n["default"]({router:I,render:function(t){return t(u)}}).$mount("#app")},7192:function(t,e,r){"use strict";r("7cd3")},"7cd3":function(t,e,r){},f61b:function(t,e,r){"use strict";r("fa44")},fa44:function(t,e,r){}});
//# sourceMappingURL=app.6cc841c1.js.map